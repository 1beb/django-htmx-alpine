<div id="tasks">
  {% if tasks %}
    <ul id="task-list"
        class="mx-auto mt-4 box w-max-35rem"
        data-cy="task-list">
      {% for task in tasks %}
        <li id="task-item-{{ task.id }}"
            class="mx-auto is-flex is-justify-content-space-between
                   is-align-items-center task-item"
            data-task-id="{{ task.id }}">
          {% include 'tasks/get_task.html' %}
        </li>
      {% endfor %}
    </ul>

    <script>
      {% if task_deleted %}
        hDispatch('status-message-display', 'Task deleted');
      {% elif error_task_description_empty %}
        hDispatch(`status-message-display`, "Description must not be empty.");
      {% endif %}

    </script>

  {% else %}
    <div id="task-list-message" class="mt-5 is-italic has-text-centered">
      {% if user.is_authenticated %}
        <div>No tasks created</div>
      {% else %}
        <div>
          You must login before you can create any todo items.</div>
        <div class="mt-5">
          No email is required to register. You will be instantly logged in after registering.
        </div>
      {% endif %}
    </div>
  {% endif %}
</div>
