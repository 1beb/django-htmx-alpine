<div id="register-modal"
     class="modal is-active"
     x-show.transition.opacity.duration.500ms="registerModalIsActive"
     x-cloak>
  <div class="modal-background"></div>
  <div class="modal-content">
    <div class="p-0 section">
      <div @click.away="registerModalIsActive = false"
           class="mw-20rem px-5 pt-2 pb-5 box is-flex is-flex-direction-column
                  is-justify-content-center is-align-items-center
                  has-text-centered">
        <div class="my-3 is-size-4">Register New Account</div>
        <form class="mt-3"
              hx-post="{% url 'users:register' %}"
              hx-target="#register-form-response"
              @submit="registerSubmitButtonIsLoading = true">
          <div class="field">
            <div class="control">
              <input type="text"
                     name="username"
                     class="input"
                     autocorrect="off"
                     autocapitalize="none"
                     placeholder="Username"
                     required>
              <input type="hidden"
                     name="name"
                     required>
            </div>
            <div class="mt-4 control">
              <input type="password"
                     name="password1"
                     class="input"
                     placeholder="Password"
                     required>
            </div>
            <div class="mt-4 control">
              <input type="password"
                     name="password2"
                     class="input"
                     placeholder="Confirm password"
                     required>
            </div>
            <div class="mt-4 control">
              <div class="is-flex">
                <div id="register-captcha-container"
                     class="is-flex-grow-1">
                  <div id="register-captcha-img-container">
                    <input type="hidden"
                           name="captcha_0"
                           id="register-captcha-key"
                           value="">
                  </div>
                </div>
                <input type="text"
                       name="captcha_1"
                       id="register-input-captcha"
                       class="ml-2 input"
                       placeholder="Human test"
                       required>
              </div>
            </div>
          </div>
          <button type="submit"
                  id="register-button-submit"
                  class="mt-4 button is-block is-info is-medium is-fullwidth"
                  :class="{ 'is-loading': registerSubmitButtonIsLoading }">
            Register
          </button>

        </form>
        <div class="pt-4 pb-3 is-size-6 has-text-weight-bold">
          &nbsp;<span id="register-form-response"></span>
        </div>
        <div>
          <a class="is-size-5 is-clickable"
             hx-get="{% url 'users:login' %}"
             hx-target="#login-captcha-img-container"
             @click="registerModalIsActive = false; loginModalIsActive = true">
            Login to an existing account
          </a>
        </div>

      </div>
    </div>
  </div>
  <button class="modal-close is-large" aria-label="close"></button>
</div>
