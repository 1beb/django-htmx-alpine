{% load static %}<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}{% endblock title %} - HTMX & Alpine.JS</title>

    {% block meta_description %}
      <meta name="description"{% if meta_description_content %}
            description="{{ meta_description_content }}"{% else %}
            description="A demo that demonstrates how HTMX and Alpine.JS can work together"{% endif %}>
    {% endblock meta_description %}

    {% block meta_robots %}
      <meta name="robots"{% if norobots %}
            content="noindex, nofollow"{% else %}
            content="index, follow"{% endif %}>
    {% endblock meta_robots %}


    <!-- favicon -->
    <link rel="shortcut icon"
          type="image/png"
          href="{% static 'img/favicon.ico' %}">

    <!-- css -->
    <link rel="stylesheet"
          type="text/css"
          href="{% static '/css/bulma@0.9.2.min.css' %}">
    <link rel="stylesheet"
          type="text/css" href="{% static 'css/base.css' %}">

    <style>
{% block style %}{% endblock style %}
    </style>

    {% block head_script %}{% endblock head_script %}

    <!-- js -->
    <script src="{% static 'js/alpine@2.8.2.min.js' %}" defer></script>

  </head>

  <body>
    {% block body_start_script %}{% endblock body_start_script %}

    <div id="page-container">
      {% include 'navbar.html' %}

      <noscript>
        <div class="my-4 is-size-5 has-text-danger has-text-centered">
          This page requires Javascript to function correctly.
        </div>
      </noscript>

      <div id="main-container"
           class="container is-flex-grow-1 has-background-light-grey">
        <div class="mt-4 has-text-centered">
          <div class="title">
            {% block body_title %}{% endblock body_title %}
          </div>
          <div class="subtitle">
            {% block body_subtitle %}{% endblock body_subtitle %}
            </div>
        </div>

        <div class="pt-4 section">
          {% block content %}{% endblock content %}
        </div>

      </div>

      {% include 'footer.html' %}

    </div>

    {% block body_end_script %}{% endblock body_end_script %}

    <!-- js -->
    <!--script src="{% static 'js/spruce@2.7.1.umd.js' %}"></script-->
    <script src="{% static 'js/htmx@1.3.3.js' %}"></script>
    <script src="{% static 'js/helpers.js' %}"></script>

    <script>
      // add CSRFToken to HTMX headers
      document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
      })

    </script>

    {% include 'status_message.html' %}

	</body>
</html>
